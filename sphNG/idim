      INTEGER idim, idim2, idim3, iptdim, iptneigh, nlmax
      INTEGER mmax, mmax2, iradtrans, iradtrans2, idustRT, idustIMPL
      INTEGER istellarfeedback
      INTEGER imhd, imhd2, imhd3, imhdxsph, isizealphaMM
      INTEGER imhdevol, isubcycle_divB
      INTEGER idim_h2, idim_h2_2, idim_MPI
      INTEGER ioptimise_column
      INTEGER idustFluid, idim_dustFluid, idim_dustFluid2
      INTEGER idim_dustFluid3
      INTEGER idustGROW, idim_grow, idim_grow2
      INTEGER idimHY09
      REAL tiny
      LOGICAL imakedust

      PARAMETER (idim=510000)

      PARAMETER (iptdim=10)
      PARAMETER (iptneigh=100000)
      PARAMETER (tiny=1.0E-20)
c
c--For MPI need to set these
c
      PARAMETER (idim_MPI=idim)
c      PARAMETER (idim_MPI=1)
c
c--Flag for using grad-h version of code is nlmax=1
c      PARAMETER (nlmax = 90)
      PARAMETER (nlmax = 1)
c
c--For radiative transfer need to use iradtrans = idim
c
c      PARAMETER (iradtrans = idim)
      PARAMETER (iradtrans = 1)
c
c--For radiative transfer that separates gas and dust need idustRT = 1
c
c      PARAMETER (idustRT = 1)
      PARAMETER (idustRT = 0)
c
c--With idustRT = 1, the ioptimise_column parameter determines whether the
c	column densities are calculated every (half-)timestep (0), 
c	or less frequently (=1) [ever full timestep or even less often].
c	Tolerence is set in column_density.F file.
c
c      PARAMETER (ioptimise_column = 1)
      PARAMETER (ioptimise_column = 0)
c
c--Type of stellar evolution and feedback
c     0: No stellar feedback
c     1: Tout stellar evolution code
c     2: Baraffe stellar evolution code
c     3: Constant luminosity
c     4: Constant radius
c     5: Disk accretion
c     6: Disk accretion + Baraffe stellar evolution code

      PARAMETER (istellarfeedback=0)
c      PARAMETER (istellarfeedback=1)
c      PARAMETER (istellarfeedback=2)
c      PARAMETER (istellarfeedback=3)
c      PARAMETER (istellarfeedback=4)
c      PARAMETER (istellarfeedback=5)
c      PARAMETER (istellarfeedback=6)
c
c--For MHD need to use imhd = idim
c
c      PARAMETER (imhd = idim)
      PARAMETER (imhd = 1)
c
c--Sets the number of variables in the magnetic field array
c	Use 3 if only need Bxyz, use 4 if need psi as well for
c	divergence cleaning
c
c      PARAMETER (imhdevol = 3)
c      PARAMETER (isubcycle_divB = 0)
      PARAMETER (imhdevol = 4)
      PARAMETER (isubcycle_divB = 1)
c
c--Allows semi-implicit dust drag to be used.  In combination, turning
c     on idustIMPL and imakedust can be used to set two-fluid dust
c     particles at terminal velocity initially.
c
c      PARAMETER (idustIMPL = 1)
c      PARAMETER (imakedust=.TRUE.)
      PARAMETER (idustIMPL = 0)
      PARAMETER (imakedust=.FALSE.)
c
c--Allow dust grains to grow. At this moment dust growth only works with
c  the semi-implicit dust drag scheme. It shouldn't be used without it.
c
c      PARAMETER (idustGROW = 1)
      PARAMETER (idustGROW = 0)
c
c--One-fluid dust
c
c      PARAMETER (idustFluid = 1)
      PARAMETER (idustFluid = 0)
c
c--Hirashita & Yan (2009) type dust evolution (see Bate 2022)
c
c      PARAMETER (idimHY09 = idim)
      PARAMETER (idimHY09 = 1)
c
c--For chemistry need to use idim_h2 = idim
c
c      PARAMETER (idim_h2 = idim)
      PARAMETER (idim_h2 = 1)
c
c--Parameters derived from those defined above.
c
      PARAMETER (idim2 = idim + idim_MPI)
      PARAMETER (idim3 = idim + 2*idim_MPI)

      PARAMETER (mmax=2*idim + 2)
      PARAMETER (mmax2=mmax + idim_MPI)

      PARAMETER (imhdxsph=imhd)

      PARAMETER (isizealphaMM=imhd/idim+1)

      PARAMETER (imhd2 = imhd + idim_MPI)
      PARAMETER (imhd3 = imhd + 2*idim_MPI)
      PARAMETER (iradtrans2 = iradtrans + idim_MPI)
      PARAMETER (idim_h2_2 = idim_h2 + idim_MPI)

      PARAMETER (idim_dustFluid = idustFluid*idim)
      PARAMETER (idim_dustFluid2 = idustFluid*idim2)
c--idim_dustFluid3 can be used with imakedust to set two-fluid dust 
c  in terminal velocity initially
      PARAMETER (idim_dustFluid3 = MAX(idustFluid,idustIMPL)*idim2)
      PARAMETER (idim_grow = idustGROW*idim)
      PARAMETER (idim_grow2 = idustGROW*idim2)

c
c--Parameter used to extend iphase and qrad1 for domain checking
c
      INTEGER ngrav_nodes
      PARAMETER (ngrav_nodes = 10000)
